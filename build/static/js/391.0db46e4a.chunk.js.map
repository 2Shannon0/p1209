{"version":3,"file":"static/js/391.0db46e4a.chunk.js","mappings":"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","sources":["api/BaseAPI/BaseAPI.ts","api/CityAPI/CityAPI.ts","components/table/Table.tsx","components/table/TableRow.tsx","hooks/useTransition/useTransition.ts","pages/home/Home.tsx"],"sourcesContent":["class BaseAPI {}\r\n\r\nexport const apiInstance = new BaseAPI();\r\nexport default BaseAPI;\r\n","import BaseAPI from '../BaseAPI/BaseAPI';\r\nimport * as t from './types';\r\n\r\nclass CityAPI extends BaseAPI {\r\n  public static getCitiesInfo(): Promise<t.GetCitiesResponse> {\r\n    return new Promise((res) => res(require('../mocks/CityAPI.cities.json')));\r\n  }\r\n\r\n  public static getCityInfo(\r\n    options: t.GetCityRequest\r\n  ): Promise<t.GetCityResponse> {\r\n    return new Promise((res) => res(require('../mocks/CityAPI.city.json'))); // fetch data\r\n  }\r\n}\r\n\r\nexport const apiInstance = new CityAPI();\r\nexport default CityAPI;\r\n","import React from 'react';\r\n\r\nimport TableMUI from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\nimport Typography from '@mui/material/Typography';\r\n\r\ninterface Props {\r\n  title?: React.ReactNode;\r\n  COLUMNS?: {\r\n    title: string;\r\n  }[];\r\n}\r\nexport const Table: React.FC<React.PropsWithChildren<Props>> = ({\r\n  children,\r\n  title,\r\n  COLUMNS,\r\n}) => {\r\n  return (\r\n    <>\r\n      {title && (\r\n        <Typography variant=\"h6\" sx={{ fontWeight: 'Bold' }}>\r\n          {title}\r\n        </Typography>\r\n      )}\r\n      <TableContainer component={Paper}>\r\n        <TableMUI sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n          {COLUMNS && (\r\n            <TableHead>\r\n              <TableRow>\r\n                {COLUMNS.map((el, index) => (\r\n                  <TableCell sx={{ fontWeight: 'Bold' }} key={index}>\r\n                    <Typography variant=\"body2\" sx={{color: '#606060', fontSize: 15}}>\r\n                      {el.title}\r\n                    </Typography>\r\n                  </TableCell>\r\n                ))}\r\n              </TableRow>\r\n            </TableHead>\r\n          )}\r\n          <TableBody>{children}</TableBody>\r\n        </TableMUI>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport TableRowMUI from \"@mui/material/TableRow\";\r\n\r\ninterface Props {\r\n  onClick?: VoidFunction;\r\n}\r\n\r\nexport const TableRow: React.FC<React.PropsWithChildren<Props>> = ({\r\n  children,\r\n  onClick,\r\n}) => {\r\n  return (\r\n    <TableRowMUI hover={!!onClick} onClick={onClick}>\r\n      {children}\r\n    </TableRowMUI>\r\n  );\r\n};\r\n","import { useCallback, useState } from \"react\";\r\n\r\nimport { TransitionType } from \"./types\";\r\n\r\nexport const useTransition = <U, T = unknown>(\r\n  asyncFnc: (value?: U) => Promise<T>,\r\n  args?: U\r\n): TransitionType<T> => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  const [payload, setPayload] = useState<T | undefined>();\r\n  const [setup, setSetup] = useState(true);\r\n\r\n  if (setup && !isLoading) {\r\n    setSetup(false);\r\n    try {\r\n      setIsLoading(true);\r\n      setIsError(false);\r\n      setPayload(undefined);\r\n      asyncFnc(args)\r\n        .then((data: T) => {\r\n          setPayload(data);\r\n        })\r\n        .catch((e) => setIsError(true))\r\n        .finally(() => setIsLoading(false));\r\n    } catch (e) {\r\n      setIsLoading(false);\r\n      setIsError(true);\r\n    }\r\n  }\r\n\r\n  const setupAgain = useCallback(() => setSetup(true), []);\r\n  return [payload, isLoading, isError, setupAgain];\r\n};\r\n","import React, { useCallback } from 'react';\r\nimport { generatePath, useNavigate } from 'react-router';\r\nimport Box from '@mui/material/Box';\r\nimport Container from '@mui/material/Container';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport { Table, TableRow } from '../../components/table';\r\nimport { useTransition } from '../../hooks/useTransition/useTransition';\r\nimport CityAPI from '../../api/CityAPI/CityAPI';\r\nimport { CircularProgress } from '../../components/progress';\r\n\r\nconst COLUMNS = [\r\n  {\r\n    title: 'Город',\r\n  },\r\n  {\r\n    title: 'Вузов',\r\n  },\r\n  {\r\n    title: 'Количество абитуриентов',\r\n  },\r\n  {\r\n    title: 'Количество мест всего',\r\n  },\r\n];\r\n\r\nconst Home = () => {\r\n  const [data, isLoading] = useTransition(() => CityAPI.getCitiesInfo());\r\n  const cities = data?.data;\r\n  const navigate = useNavigate();\r\n\r\n  const clickHandler = useCallback(\r\n    (id: string) => () => {\r\n      navigate(\r\n        generatePath(`/city/:year/:id`, {\r\n          year: '2022',\r\n          id: id,\r\n        })\r\n      );\r\n    },\r\n    []\r\n  );\r\n  return (\r\n    <React.Fragment>\r\n      <Container maxWidth=\"md\">\r\n        <Box sx={{ height: '70vh' }} mt={5}>\r\n          {isLoading ? (\r\n            <CircularProgress />\r\n          ) : cities && cities.length > 0 ? (\r\n            <Table COLUMNS={COLUMNS} title=\"Список городов\">\r\n              {cities.map((el) => (\r\n                <TableRow key={el.city_id} onClick={clickHandler(el.city_id)}>\r\n                  <TableCell>\r\n                    <Typography\r\n                      variant=\"body2\"\r\n                      color=\"#1976D2\"\r\n                      sx={{ fontWeight: 'regular' }}\r\n                    >\r\n                      {el.name}\r\n                    </Typography>\r\n                  </TableCell>\r\n                  <TableCell>{el.university_number}</TableCell>\r\n                  <TableCell>{el.abiturients_number}</TableCell>\r\n                  <TableCell>{el.vacancies_number}</TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </Table>\r\n          ) : (\r\n            <p>Ничего не найдено</p>\r\n          )}\r\n        </Box>\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"names":["BaseAPI","CityAPI","Promise","res","require","options","Table","children","title","COLUMNS","Typography","variant","sx","fontWeight","TableContainer","component","Paper","minWidth","TableHead","map","el","index","TableCell","color","fontSize","TableBody","TableRow","onClick","hover","useTransition","asyncFnc","args","useState","isLoading","setIsLoading","isError","setIsError","payload","setPayload","setup","setSetup","undefined","then","data","catch","e","finally","useCallback","cities","navigate","useNavigate","clickHandler","id","generatePath","year","maxWidth","height","mt","length","city_id","name","university_number","abiturients_number","vacancies_number"],"sourceRoot":""}